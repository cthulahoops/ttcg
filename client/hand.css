/* Hand and Card Styles */

.row-hand {
  --card-span: 3; /* visible cards span this many columns, hidden span 1 */
  display: grid;
  /* Column width: (card-width - (span-1)*gap) / span */
  grid-template-columns: repeat(
    auto-fit,
    calc(
      (var(--card-width) - (var(--card-span) - 1) * var(--space-xs)) /
        var(--card-span)
    )
  );
  gap: var(--space-xs);
  /* Padding for last card's overflow + gap */
  padding-right: calc(
    var(--card-width) * (var(--card-span) - 1) / var(--card-span) +
      var(--space-xs)
  );
}

.row-hand > .card {
  grid-column: span var(--card-span);
}

.row-hand > .card.hidden {
  grid-column: span 1;
}

.card {
  --suit-color: var(--color-text);
  --suit-mix: black;
  width: var(--card-width);
  height: var(--card-height);
  border: 2px solid color-mix(in srgb, var(--suit-color), var(--suit-mix) 30%);
  border-radius: 2px;
  border-color: rgba(122, 120, 104, 0.6);
  background: linear-gradient(
    135deg,
    var(--suit-color) 0%,
    color-mix(in srgb, var(--suit-color), var(--suit-mix) 15%) 100%
  );
  color: black;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  font-family: "Cinzel", serif;
  font-weight: 700;
  padding: 5px;
  box-shadow:
    1px 1px 4px rgba(0, 0, 0, 0.12),
    inset 0 0 10px rgba(255, 255, 255, 0.06);
}

.mountains {
  --suit-color: var(--suit-mountains-color);
  --suit-mix: var(--suit-mountains-mix);
}

.shadows {
  --suit-color: var(--suit-shadows-color);
  --suit-mix: var(--suit-shadows-mix);
}

.forests {
  --suit-color: var(--suit-forests-color);
  --suit-mix: var(--suit-forests-mix);
}

.hills {
  --suit-color: var(--suit-hills-color);
  --suit-mix: var(--suit-hills-mix);
}

.rings {
  --suit-color: var(--suit-rings-color);
  --suit-mix: var(--suit-rings-mix);
}

.threat {
  --suit-color: var(--suit-threat-color);
  --suit-mix: var(--suit-threat-mix);
}

.hidden {
  --suit-color: var(--suit-hidden-color);
  --suit-mix: var(--suit-hidden-mix);
}

.card.mountains {
  color: var(--suit-mountains-text);
}

.card.shadows {
  color: var(--suit-shadows-text);
}

.card.forests {
  color: var(--suit-forests-text);
}

.card.hills {
  color: var(--suit-hills-text);
}

.card.rings {
  color: var(--suit-rings-text);
  border-color: var(--suit-rings-border);
  box-shadow:
    1px 1px 4px rgba(0, 0, 0, 0.12),
    0 0 8px rgba(200, 160, 32, 0.25),
    inset 0 0 10px rgba(200, 160, 32, 0.08);
}

.card.threat {
  color: var(--suit-threat-text);
}

.card.hidden {
  color: var(--suit-hidden-text);
}

.suit {
  font-family: "Spectral", serif;
  font-size: calc(var(--card-width) / 7);
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.03em;
  margin-top: 3px;
}

.value {
  font-size: calc(var(--card-width) / 2.5);
}

.card.clickable {
  cursor: pointer;
  transition: transform 0.2s;
  outline: 2px solid var(--color-accent);
  border-color: #6a5818;
  box-shadow:
    0 0 8px rgba(154, 92, 0, 0.15),
    inset 0 0 6px rgba(154, 92, 0, 0.05);
}

.card.clickable:hover {
  transform: translateY(-5px);
  box-shadow:
    0 0 14px rgba(154, 92, 0, 0.25),
    inset 0 0 10px rgba(154, 92, 0, 0.08);
}

.card.disabled {
  cursor: not-allowed;
}

.card.selectable {
  cursor: pointer;
  transition: transform 0.2s;
  border-color: var(--color-accent);
  border-width: 3px;
  box-shadow: 0 0 12px rgba(154, 92, 0, 0.2);
}

.card.selectable:hover {
  transform: translateY(-10px);
}

/* Pyramid display styles */
.pyramid-hand {
  display: grid;
  --grid-gap: var(--space-xs);
  grid-auto-columns: calc((var(--card-width) - var(--grid-gap)) / 2);
  grid-auto-rows: calc((var(--card-height) - var(--grid-gap)) / 2);
  gap: var(--grid-gap);
}

.pyramid-hand > .card {
  width: auto;
  height: auto;
}

.card.pyramid-uncovered {
  border-color: var(--color-accent);
  border-width: 3px;
}

/* Trick card style (for won tricks display) â€” matches hidden card back */
.card.trick {
  --suit-color: var(--suit-hidden-color);
  --suit-mix: var(--suit-hidden-mix);
  border-color: var(--suit-hidden-mix);
}
