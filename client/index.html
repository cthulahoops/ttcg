<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trick Taking Game</title>
    <link rel="stylesheet" href="./game.css">
</head>
<body>
    <div class="container">
        <!-- Lobby Screen -->
        <div id="lobbyScreen" class="lobby-screen">
            <h1>Trick Taking Card Game</h1>

            <div id="lobbyMenu" class="lobby-menu">
                <h2>Join a Game</h2>
                <div class="lobby-form">
                    <input type="text" id="playerNameInput" placeholder="Your Name" maxlength="20">
                    <div class="join-room-group">
                        <input type="text" id="roomCodeInput" placeholder="Room Code (4 letters)" maxlength="4" style="text-transform: uppercase;">
                        <button id="generateCodeBtn" class="secondary-btn">Random Code</button>
                    </div>
                    <button id="joinRoomBtn" class="primary-btn">Join Room</button>
                </div>
                <div id="lobbyError" class="lobby-error"></div>
            </div>

            <div id="roomLobby" class="room-lobby" style="display: none;">
                <h2>Room: <span id="roomCodeDisplay"></span></h2>
                <div class="room-info">
                    <p>Share this room code with other players</p>
                </div>
                <div class="players-list">
                    <h3>Players (<span id="playerCount">0</span>/4)</h3>
                    <ul id="playersList"></ul>
                </div>
                <div class="lobby-buttons">
                    <button id="startGameBtn" class="primary-btn" disabled>Start Game</button>
                    <button id="leaveRoomBtn" class="secondary-btn">Leave Room</button>
                </div>
            </div>
        </div>

        <div id="gameScreen" class="main-content" style="display: none;">
            <div class="game-status" id="gameStatus">Click "New Game" to start</div>

            <!-- Unified Dialog Area -->
            <section id="dialogArea" class="dialog-area" style="display: none;">
                <div class="dialog-content">
                    <h3 id="dialogTitle"></h3>
                    <div id="dialogMessage" class="dialog-message"></div>
                    <div id="dialogChoices" class="dialog-buttons"></div>
                    <div id="dialogInfo" class="dialog-info"></div>
                </div>
            </section>

            <div class="display-columns">
                <section class="trick-area">
                    <h2>Current Trick</h2>
                    <div class="trick-cards" id="trickCards"></div>
                </section>

                <section class="lost-card-section">
                    <h2>Lost Card</h2>
                    <div id="lostCard"></div>
                </section>
            </div>

            <div class="players">
                <section class="player" data-player="1">
                    <div>
                        <h3 id="playerName1">Player 1</h3>
                        <div class="objective" id="objective1"></div>
                        <div class="tricks-won" id="tricks1">Tricks: 0</div>
                        <div class="objective-status" id="objectiveStatus1"></div>
                        <div class="threat-card" id="threatCard1"></div>
                    </div>
                    <div class="hand" id="player1"></div>
                </section>
                <section class="player" data-player="2">
                    <div>
                        <h3 id="playerName2">Player 2</h3>
                        <div class="objective" id="objective2"></div>
                        <div class="tricks-won" id="tricks2">Tricks: 0</div>
                        <div class="objective-status" id="objectiveStatus2"></div>
                        <div class="threat-card" id="threatCard2"></div>
                    </div>
                    <div class="hand" id="player2"></div>
                </section>
                <section class="player" data-player="3">
                    <div>
                        <h3 id="playerName3">Player 3</h3>
                        <div class="objective" id="objective3"></div>
                        <div class="tricks-won" id="tricks3">Tricks: 0</div>
                        <div class="objective-status" id="objectiveStatus3"></div>
                        <div class="threat-card" id="threatCard3"></div>
                    </div>
                    <div class="hand" id="player3"></div>
                </section>
                <section class="player" data-player="4">
                    <div>
                        <h3 id="playerName4">Player 4</h3>
                        <div class="objective" id="objective4"></div>
                        <div class="tricks-won" id="tricks4">Tricks: 0</div>
                        <div class="objective-status" id="objectiveStatus4"></div>
                        <div class="threat-card" id="threatCard4"></div>
                    </div>
                    <div class="hand" id="player4"></div>
                </section>
            </div>
        </div>

        <div class="sidebar">
            <section class="section game-log">
                <h2>Game Log</h2>
                <div id="gameLog"></div>
            </section>
        </div>
    </div>

    <script type="module" src="./main.ts"></script>
</body>
</html>
